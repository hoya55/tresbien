<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë³´ì¡°ë°°í„°ë¦¬ ê¸°ë‚´ ë°˜ì… íŒì •ê¸°</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; background:#f0f0f0; padding:2em; }
    table { width:100%; border-collapse:collapse; background:#fff; }
    th, td { border:1px solid #ccc; padding:0.6em; text-align:center; }
    th { background-color:#e8e8e8; }
    input { width: 100%; padding: 0.4em; box-sizing: border-box;}
    button { margin-top:1em; padding:0.7em 1.5em; background:#1658a0; color:#fff; border:none; border-radius:5px; font-size:1em; cursor:pointer; }
    button:hover { background:#0e407a; }
    #resultBox { margin-top:2em; padding:1em; border-radius:8px; font-weight:bold; background:#fff; border:1px solid #ccc; min-height:2em; }
    .success { background:#e6ffe6; color:#006600; border-color:#aad9aa; }
    .fail { background:#ffe6e6; color:#cc0000; border-color:#e8aaaa; }
  </style>
</head>
<body>

<h2>ğŸ”‹ ë³´ì¡°ë°°í„°ë¦¬ ê¸°ë‚´ ë°˜ì… íŒì •ê¸° (5ê°œ ì…ë ¥)</h2>

<p>ê° ë°°í„°ë¦¬ì˜ mAh, ì „ì••(V), ê°œìˆ˜ë¥¼ ì…ë ¥ í›„ ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.<br>(100Wh ì´í•˜: ìµœëŒ€ 5ê°œ, 100~160Wh: ìµœëŒ€ 2ê°œ, 160Wh ì´ˆê³¼: ë°˜ì… ë¶ˆê°€)</p>

<table>
  <thead>
    <tr>
      <th>#</th>
      <th>ìš©ëŸ‰ (mAh)</th>
      <th>ì „ì•• (V)</th>
      <th>ìˆ˜ëŸ‰ (ê°œ)</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>1</td><td><input id="mah1"></td><td><input id="volt1"></td><td><input id="qty1"></td></tr>
    <tr><td>2</td><td><input id="mah2"></td><td><input id="volt2"></td><td><input id="qty2"></td></tr>
    <tr><td>3</td><td><input id="mah3"></td><td><input id="volt3"></td><td><input id="qty3"></td></tr>
    <tr><td>4</td><td><input id="mah4"></td><td><input id="volt4"></td><td><input id="qty4"></td></tr>
    <tr><td>5</td><td><input id="mah5"></td><td><input id="volt5"></td><td><input id="qty5"></td></tr>
  </tbody>
</table>

<button id="checkButton">ğŸ§® ê¸°ë‚´ ë°˜ì… ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸</button>

<div id="resultBox"></div>

<script>
  // ì „ì—­ í•¨ìˆ˜ë¡œ ì •ì˜
  function evaluate() {
    let total100 = 0, total160 = 0, hasOver = false;
    let errors = [], total = 0;
    for (let i = 1; i <= 5; i++) {
      const mah = parseFloat(document.getElementById('mah' + i).value);
      const volt = parseFloat(document.getElementById('volt' + i).value);
      const qty = parseInt(document.getElementById('qty' + i).value);
      if (!isNaN(mah) && !isNaN(volt) && !isNaN(qty)) {
        const wh = (mah * volt) / 1000;
        total += qty;
        if (wh <= 100) total100 += qty;
        else if (wh <= 160) total160 += qty;
        else {
          hasOver = true;
          errors.push(`í–‰ ${i}: ${wh.toFixed(2)}Wh > 160Wh`);
        }
      }
    }

    const box = document.getElementById('resultBox');
    if (total === 0) {
      box.className = 'fail';
      box.innerHTML = 'âš ï¸ ì…ë ¥ëœ ë°°í„°ë¦¬ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.';
      return;
    }
    if (hasOver) {
      box.className = 'fail';
      box.innerHTML = `âŒ ë°˜ì… ë¶ˆê°€<br>${errors.join('<br>')}`;
      return;
    }

    let warnings = [];
    if (total100 > 5) warnings.push(`100Wh ì´í•˜ ë°°í„°ë¦¬ëŠ” ìµœëŒ€ 5ê°œ (ì…ë ¥: ${total100}ê°œ)`);
    if (total160 > 2) warnings.push(`100~160Wh ë°°í„°ë¦¬ëŠ” ìµœëŒ€ 2ê°œ (ì…ë ¥: ${total160}ê°œ)`);

    if (warnings.length > 0) {
      box.className = 'fail';
      box.innerHTML = `âŒ ë°˜ì… ë¶ˆê°€<br>${warnings.join('<br>')}`;
    } else {
      box.className = 'success';
      box.innerHTML = `âœ… ë°˜ì… ê°€ëŠ¥<br>ì´ ${total}ê°œ ì…ë ¥ë¨<br>100Wh ì´í•˜: ${total100}ê°œ / 100~160Wh: ${total160}ê°œ`;
    }
  }

  // DOMì´ ë¡œë“œëœ í›„ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ì—°ê²°
  document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('checkButton').addEventListener('click', evaluate);
  });
</script>

</body>
</html>
