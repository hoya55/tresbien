<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë³´ì¡°ë°°í„°ë¦¬ ê¸°ë‚´ ë°˜ì… íŒì •ê¸° (í†µí•©)</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; background:#f7f7f7; padding:2em; }
    table { width:100%; border-collapse:collapse; margin-bottom:2em; background:#fff;}
    th, td { border:1px solid #ddd; padding:0.6em; text-align:center;}
    th { background:#e8e8e8;}
    button { padding:0.7em 1.3em; font-size:1em; border:none; background:#174883; color:#fff; border-radius:6px; cursor:pointer;}
    button:hover {background:#145079;}
    .explain {color:#333; font-size:1em; margin-bottom:1.3em;}
    #resultBox, #simpleResultBox { margin:2em 0 1.5em; padding:1em; border-radius:8px; font-weight:bold; background: #fff; min-height:2em; border:1px solid #c8cff7;}
    .success { background:#e6ffe6; color:#007700; border-color: #b0e6b0; }
    .fail { background:#ffe6e6; color:#c00; border-color: #ffb6b6; }
    @media (max-width:600px) { body {padding:0.5em;} table, th, td {font-size:0.94em;} }
  </style>
</head>
<body>

  <h2>ğŸ”‹ ë³´ì¡°ë°°í„°ë¦¬ ê¸°ë‚´ ë°˜ì… íŒì •ê¸° <small style="font-size:0.7em;">(í†µí•© ê¸°ëŠ¥)</small></h2>
  <div class="explain">
    â‘  ì—¬ëŸ¬ì¢…ë¥˜(ìµœëŒ€ 5ê°œ) ë°°í„°ë¦¬, ë˜ëŠ”<br>
    â‘¡ ê°„ë‹¨ ë‹¨ì¼ ë°°í„°ë¦¬ ì¤‘ <b>ì›í•˜ëŠ” ë°©ì‹</b>ìœ¼ë¡œ ì…ë ¥ í›„ íŒì • ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.<br>
    <span style="color:#444;">(100Wh ì´í•˜: ìµœëŒ€ 5ê°œ, 100~160Wh: ìµœëŒ€ 2ê°œ, 160Wh ì´ˆê³¼: ë¶ˆê°€)</span>
  </div>

  <!-- ë³µìˆ˜(5ê°œê¹Œì§€) ì…ë ¥ í¼ -->
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>ìš©ëŸ‰ (mAh)</th>
        <th>ì „ì•• (V)</th>
        <th>ìˆ˜ëŸ‰ (ê°œ)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td><input type="number" id="mah1" placeholder="ì˜ˆ: 10000"></td>
        <td><input type="number" id="volt1" placeholder="ì˜ˆ: 3.7" step="0.1"></td>
        <td><input type="number" id="qty1" placeholder="ì˜ˆ: 1"></td>
      </tr>
      <tr>
        <td>2</td>
        <td><input type="number" id="mah2" placeholder="ì˜ˆ: 20000"></td>
        <td><input type="number" id="volt2" placeholder="ì˜ˆ: 3.7" step="0.1"></td>
        <td><input type="number" id="qty2" placeholder="ì˜ˆ: 2"></td>
      </tr>
      <tr>
        <td>3</td>
        <td><input type="number" id="mah3" placeholder="ì˜ˆ: 12000"></td>
        <td><input type="number" id="volt3" placeholder="ì˜ˆ: 7.4" step="0.1"></td>
        <td><input type="number" id="qty3" placeholder="ì˜ˆ: 1"></td>
      </tr>
      <tr>
        <td>4</td>
        <td><input type="number" id="mah4" placeholder="ì˜ˆ: 5000"></td>
        <td><input type="number" id="volt4" placeholder="ì˜ˆ: 11.1" step="0.1"></td>
        <td><input type="number" id="qty4" placeholder="ì˜ˆ: 3"></td>
      </tr>
      <tr>
        <td>5</td>
        <td><input type="number" id="mah5" placeholder="ì˜ˆ: 30000"></td>
        <td><input type="number" id="volt5" placeholder="ì˜ˆ: 3.6" step="0.1"></td>
        <td><input type="number" id="qty5" placeholder="ì˜ˆ: 1"></td>
      </tr>
    </tbody>
  </table>

  <button onclick="evaluate()">ğŸ“¦ (í‘œ ì…ë ¥) ê¸°ë‚´ ë°˜ì… ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸</button>
  <div id="resultBox"></div>

  <hr style="margin:2.5em 0">

  <h3 style="font-size:1.07em;">ğŸŸ¢ ë‹¨ì¼ ë°°í„°ë¦¬ ë¹ ë¥¸ í™•ì¸</h3>
  <p>ìš©ëŸ‰ (mAh): <input type="number" id="mah" value="20000"></p>
  <p>ì „ì•• (V): <input type="number" id="volt" value="3.7"></p>
  <p>ìˆ˜ëŸ‰: <input type="number" id="qty" value="2"></p>
  <button onclick="evaluateSimple()">â–¶ï¸ (ë‹¨ì¼ ì…ë ¥) ê¸°ë‚´ ë°˜ì… ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸</button>
  <div id="simpleResultBox"></div>


  <script>
    // [A] í‘œ ë°©ì‹(ìµœëŒ€ 5í–‰) ì¢…í•© íŒì •
    function evaluate() {
      let totalQty100 = 0, totalQty160 = 0, hasOver160 = false, totalItems = 0;
      let errors = [];
      for (let i = 1; i <= 5; i++) {
        const mah = parseFloat(document.getElementById(`mah${i}`).value);
        const volt = parseFloat(document.getElementById(`volt${i}`).value);
        const qty = parseInt(document.getElementById(`qty${i}`).value);

        if (!isNaN(mah) && !isNaN(volt) && !isNaN(qty)) {
          const wh = (mah * volt) / 1000;
          totalItems += qty;
          if (wh <= 100)       totalQty100 += qty;
          else if (wh <= 160)  totalQty160 += qty;
          else { hasOver160 = true; errors.push(`í–‰ ${i}: <b>${wh.toFixed(2)}Wh</b> (160Wh ì´ˆê³¼)`);}
        }
      }
      const resultBox = document.getElementById('resultBox');
      resultBox.className = "";
      if (totalItems === 0) {
        resultBox.className='fail';
        resultBox.innerHTML = `âš ï¸ í•˜ë‚˜ ì´ìƒì˜ ë°°í„°ë¦¬ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.`;
        return;
      }
      if (hasOver160) {
        resultBox.className='fail';
        resultBox.innerHTML = `âŒ <strong>ê¸°ë‚´ ë°˜ì… ë¶ˆê°€</strong><br>160Wh ì´ˆê³¼ ë¶ˆê°€:<br>`+ errors.join('<br>');
        return;
      }
      let reasons = [];
      if (totalQty100 > 5)
        reasons.push(`ğŸ”´ 100Wh ì´í•˜ ë°°í„°ë¦¬ëŠ” ìµœëŒ€ <b>5ê°œ</b> (ì…ë ¥: ${totalQty100}ê°œ)`);
      if (totalQty160 > 2)
        reasons.push(`ğŸ”´ 100~160Wh ë°°í„°ë¦¬ëŠ” ìµœëŒ€ <b>2ê°œ</b> (ì…ë ¥: ${totalQty160}ê°œ)`);
      if (reasons.length > 0) {
        resultBox.className='fail';
        resultBox.innerHTML = `âŒ <strong>ê¸°ë‚´ ë°˜ì… ë¶ˆê°€</strong><br>`+reasons.join("<br>");
      } else {
        resultBox.className='success';
        resultBox.innerHTML = `âœ… <strong>ê¸°ë‚´ ë°˜ì… ê°€ëŠ¥</strong><br>í•©ê³„: ${totalItems}ê°œ<br>100Wh ì´í•˜: ${totalQty100}ê°œ / 100~160Wh: ${totalQty160}ê°œ`;
      }
    }
    // [B] ë‹¨ì¼ ì…ë ¥ ì‹ ì† íŒì •
    function evaluateSimple() {
      const mah = parseFloat(document.getElementById('mah').value);
      const volt = parseFloat(document.getElementById('volt').value);
      const qty  = parseInt(document.getElementById('qty').value);
      const wh = (mah * volt) / 1000;
      const simpleResultBox = document.getElementById('simpleResultBox');
      simpleResultBox.className="";
      if (isNaN(mah) || isNaN(volt) || isNaN(qty)) {
        simpleResultBox.className='fail';
        simpleResultBox.innerHTML = "âš ï¸ ê°’ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.";
        return;
      }
      if (wh <= 100 && qty <= 5) {
        simpleResultBox.className='success';
        simpleResultBox.innerHTML = `âœ… ë°˜ì… ê°€ëŠ¥ (${wh.toFixed(2)}Wh Ã— ${qty}ê°œ)`;
      } else if (wh > 100 && wh <= 160 && qty <= 2) {
        simpleResultBox.className='success';
        simpleResultBox.innerHTML = `âœ… í•­ê³µì‚¬ ìŠ¹ì¸ ì‹œ ë°˜ì… ê°€ëŠ¥ (${wh.toFixed(2)}Wh Ã— ${qty}ê°œ)`;
      } else if (wh > 160) {
        simpleResultBox.className='fail';
        simpleResultBox.innerHTML = `âŒ ë°˜ì… ë¶ˆê°€: ${wh.toFixed(2)}WhëŠ” 160Whë¥¼ ì´ˆê³¼`;
      } else {
        simpleResultBox.className='fail';
        simpleResultBox.innerHTML = "âŒ ìˆ˜ëŸ‰ ë˜ëŠ” ìš©ëŸ‰ì´ ì œí•œ ì´ˆê³¼";
      }
    }
  </script>

</body>
</html>
